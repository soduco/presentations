\ProvidesPackage{mypresentationstyle}
%%
\usetheme[progressbar=frametitle]{metropolis}
\usepackage{xcolor}

\usepackage{appendixnumberbeamer}
%%
\usepackage{booktabs}
\usepackage[scale=2]{ccicons}
%%
\usepackage{pgfplots}
\usepgfplotslibrary{dateplot}
%%
\usepackage{xspace}
%%%%
\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
%\setcounter{secnumdepth}{3}
%\setcounter{tocdepth}{3}
%%
\usepackage{fix-cm}%TO AVOID WARNINGS WITH FONTS
\usepackage{amscd,amssymb,amsmath}
\usepackage{dsfont}
\usepackage{stmaryrd}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{colortbl}
%%
%\usepackage{epsfig}
%\usepackage{pstricks,mathrsfs}
%\usepackage{ifthen}
%\usepackage[bindingoffset=0cm,centering,includeheadfoot,margin=2cm,headheight=33pt]{geometry}
%\usepackage{hyperref}
%\hypersetup{colorlinks=true}
%\usepackage[table]{xcolor}
%\usepackage{ctable}

\usepackage[final]{pdfpages}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% Textclass specific LaTeX commands.
\usepackage{verbatim}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%% User specified LaTeX commands.
\usepackage{eurosym} %à mettre impérativement pour pouvoir manipuler des \euro{}
\usepackage{multirow} %permet d'obtenir de regrouper plusieurs lignes dans un tableau
\makeatother

%\usepackage{natbib}
\usepackage{bibunits}
\usepackage{fancyhdr}

\usepackage{amsmath}
\usepackage{amssymb}

\graphicspath{{../images/}{./images/}}

\definecolor{tetecolonne}{rgb}{0.4,0.0,0.0}

\definecolor{objgeo}{rgb}{0.8,0.0,0.2}
\definecolor{relobj}{rgb}{0,0.8,0}
\definecolor{propobj}{rgb}{0,0.0,0.8}

\renewcommand{\rmdefault}{phv} % Arial
\renewcommand{\sfdefault}{phv} % Arial

\renewcommand{\seriesdefault}{mc}%Narrow?
\setlength{\parindent}{0cm} % Default is 15pt.


%%BEAMER

\RequirePackage{tikz}
\usetikzlibrary{arrows, decorations.markings}
\usetikzlibrary{shapes.geometric}% for trapezium shape
%\usetikzlibrary{timeline}
\usepackage{animate}
\lstset{language=C++,
  basicstyle=\tiny,
  frame=single,
  captionpos=b,
  linewidth=1.02\linewidth,
  commentstyle=\color{green},
  stringstyle=\color{red},
  identifierstyle=\ttfamily,
  keywordstyle=\color{blue},
  texcl=true
%  breaklines=true
}
\newcommand{\patternscale}{.3}
\newcommand{\patternspace}{1mm}
\newcommand{\startdate}{2001}

\definecolor{agray}{HTML}{414141}
\definecolor{ablue}{HTML}{00adee}
\definecolor{anorange}{HTML}{e47d1a}
\definecolor{agreen}{HTML}{93c119}
\definecolor{anotherblue}{HTML}{00516F}
\definecolor{verylightgray}{gray}{0.9}
\definecolor{ared}{HTML}{e8231b}
\definecolor{abrown}{HTML}{8e4e10}
\definecolor{tetecolonne}{rgb}{0.4,0.0,0.0}
\definecolor{objgeo}{rgb}{0.8,0.0,0.2}
\definecolor{relobj}{rgb}{0,0.8,0}
\definecolor{propobj}{rgb}{0,0.0,0.8}
\hypersetup{colorlinks=true,linkcolor=,urlcolor=anorange}
\hypersetup{citecolor=anotherblue}

\let\oldcite=\cite
\renewcommand{\cite}[1]{\textcolor{anotherblue}{\oldcite{#1}}}
\newcommand{\mycite}[1]{\textcolor{agreen}{\oldcite{#1}}}

\graphicspath{{../habilitation/images/}{../habilitation/images_benoit/}{../habilitation/images_bertrand/}{../habilitation/images_mickael/}{../habilitation/images_remi/}{images/}{../habilitation/images_geohistoricaldata/}}

\setbeamerfont{subtitle}{size=\scriptsize}

\makeatletter
\newcommand\addsectiontotoc[1]{%
  \addtocontents{toc}{%
    \protect\beamer@sectionintoc{\the\c@section}{#1}{\the\c@page}{\the\c@part}%
                                {\the\beamer@tocsectionnumber}}
}
\makeatother

\makeatletter
\newcommand{\miniscule}{\@setfontsize\miniscule{4}{5}}% \tiny: 5/6
\makeatother

\usepackage{textpos}
\setbeamerfont*{section in head/foot}{size=\miniscule}
\setbeamercolor{section in head/foot}{parent=palette primary}

\tikzstyle{job}=[thick,rounded corners=2pt,draw=none,fill=ablue]
\tikzstyle{resp}=[thick,rounded corners=2pt,draw=none,fill=anorange]
\tikzstyle{phd}=[thick,rounded corners=2pt,draw=none,fill=agreen]
\tikzstyle{postdoc}=[thick,rounded corners=2pt,draw=none,fill=anotherblue]
\tikzstyle{stage}=[thick,rounded corners=2pt,draw=none,fill=abrown]
\tikzstyle{projet}=[thick,rounded corners=2pt,draw=none,fill=gray]
\tikzstyle{domaine}=[thick,rounded corners=2pt,draw=none,fill=agray,opacity=0.5]
\tikzstyle{conf}=[thick,rounded corners=2pt,draw=none,fill=agreen,text=agreen]
\tikzstyle{cours}=[thick,rounded corners=2pt,draw=none,fill=agreen]

\tikzstyle{place}=[circle,draw=none,fill=black,thick]
\tikzstyle{vecArrow} = [thick, decoration={markings,mark=at position
    1 with {\arrow[semithick]{open triangle 60}}},
  double distance=1.4pt, shorten >= 5.5pt,
  preaction = {decorate},
  postaction = {draw,line width=1.4pt, white,shorten >= 4.5pt}]
\tikzstyle{innerWhite} = [semithick, white,line width=1.4pt, shorten >= 4.5pt]

\usepackage{enumitem}
\setlist[description]{%
  topsep=-2.5pt,               % space before start / after end of list
  itemsep=-2.5pt,               % space between items
  font={\bfseries\sffamily}, % set the label font
%  font={\bfseries\sffamily\color{red}}, % if colour is needed
}

\let\oldurl=\url
\renewcommand{\url}[1]{\href{#1}{\textbf{#1}}}

% commandes venant du document de soumission
\newcommand{\soduco}{\emph{SoDUCo}\xspace}
\newcommand{\geoportail}{\emph{G\'eoportail}}
\newcommand{\gallica}{\emph{Gallica}}

\newcommand{\ehess}{\emph{EHESS}\xspace}
\newcommand{\lastig}{\emph{Laboratoire en Sciences et Technologies de l'Information G\'eographique}\xspace}
\newcommand{\cogit}{\emph{COGIT}\xspace}
\newcommand{\ign}{\emph{IGN}\xspace}
\newcommand{\an}{\emph{National Archives}\xspace}
\newcommand{\natar}{\emph{Nat. Ar.}\xspace}
\newcommand{\ladehis}{\emph{LaD\'eHiS}\xspace}
\newcommand{\ghdb}{\emph{GeoHistoricalData}\xspace}
\newcommand{\cea}{\emph{CEA}\xspace}
\newcommand{\ipht}{\emph{IPhT}\xspace}
\newcommand{\epita}{\emph{EPITA}\xspace}
\newcommand{\lrde}{\emph{LRDE}\xspace}
\newcommand{\scribo}{\emph{SCRIBO}\xspace}
\newcommand{\bnf}{\emph{BnF}\xspace}
\newcommand{\osm}{\emph{OpenStreetMap}\xspace}
\newcommand{\nypl}{\emph{NYPL}\xspace}
\newcommand{\buildinginspector}{\emph{Building-Inspector}\xspace}
\newcommand{\arpenteur}{\emph{Arpenteur Topographe}\xspace}
\newcommand{\belleepoque}{\emph{BELLEPOQUE}\xspace}

\newcommand{\geopeuple}{\emph{G\'eoPeuple}\xspace}
\newcommand{\alpage}{\emph{Alpage}\xspace}
\newcommand{\cams}{\emph{CAMS}\xspace}
\newcommand{\sixteenth}{$16^{th}$\xspace}
\newcommand{\seventeenth}{$17^{th}$\xspace}
\newcommand{\eighteenth}{$18^{th}$\xspace}
\newcommand{\nineteenth}{$19^{th}$\xspace}
\newcommand{\twentieth}{$20^{th}$\xspace}
\newcommand{\opensource}{\emph{open source}\xspace}
\newcommand{\opendata}{\emph{open data}\xspace}
\newcommand{\software}{\color{blue}{Software}}
\newcommand{\dataset}{\color{BrickRed}{Dataset}}

\newcommand{\ie}{\emph{i.e.}}
\newcommand{\eg}{\emph{e.g.}}

\colorlet{tableheadcolor}{gray!25} % Table header colour = 25% gray
\newcommand{\headcol}{\rowcolor{tableheadcolor}} %
\colorlet{tablerowcolor}{gray!10} % Table row separator colour = 10% gray
\newcommand{\rowcol}{\rowcolor{tablerowcolor}} %
% Command \topline consists of a (slightly modified) \toprule followed by a \heavyrule rule of colour tableheadcolor (hence, 2 separate rules)
\newcommand{\topline}{\arrayrulecolor{black}\specialrule{0.1em}{\abovetopsep}{0pt}%
  \arrayrulecolor{tableheadcolor}\specialrule{\belowrulesep}{0pt}{0pt}%
  \arrayrulecolor{black}}
% Command \midline consists of 3 rules (top colour tableheadcolor, middle colour black, bottom colour white)
\newcommand{\midline}{\arrayrulecolor{tableheadcolor}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{black}\specialrule{\lightrulewidth}{0pt}{0pt}%
  \arrayrulecolor{white}\specialrule{\belowrulesep}{0pt}{0pt}%
  \arrayrulecolor{black}}
% Command \rowmidlinecw consists of 3 rules (top colour tablerowcolor, middle colour black, bottom colour white)
\newcommand{\rowmidlinecw}{\arrayrulecolor{tablerowcolor}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{black}\specialrule{\lightrulewidth}{0pt}{0pt}%
  \arrayrulecolor{white}\specialrule{\belowrulesep}{0pt}{0pt}%
  \arrayrulecolor{black}}
% Command \rowmidlinewc consists of 2 rules (top colour tablerowcolor, middle colour white)  
\newcommand{\rowmidlinetw}{\arrayrulecolor{tablerowcolor}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{tablerowcolor}\specialrule{\lightrulewidth}{0pt}{0pt}%
  \arrayrulecolor{white}\specialrule{\belowrulesep}{0pt}{0pt}}
  
% Command \rowmidlinewc consists of 3 rules (top colour white, middle colour black, bottom colour tablerowcolor)
\newcommand{\rowmidlinewc}{\arrayrulecolor{white}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{black}\specialrule{\lightrulewidth}{0pt}{0pt}%
  \arrayrulecolor{tablerowcolor}\specialrule{\belowrulesep}{0pt}{0pt}%
  \arrayrulecolor{black}}
% Command \rowmidlinew consists of 1 white rule
\newcommand{\rowmidlinew}{\arrayrulecolor{white}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{black}}
% Command \rowmidlinec consists of 1 tablerowcolor rule
\newcommand{\rowmidlinec}{\arrayrulecolor{tablerowcolor}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{black}}
% Command \bottomline consists of 2 rules (top colour
\newcommand{\bottomline}{\arrayrulecolor{white}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{black}\specialrule{\heavyrulewidth}{0pt}{\belowbottomsep}}%
\newcommand{\bottomlinec}{\arrayrulecolor{tablerowcolor}\specialrule{\aboverulesep}{0pt}{0pt}%
  \arrayrulecolor{black}\specialrule{\heavyrulewidth}{0pt}{\belowbottomsep}}%

\newcommand{\bottomcol}{\rowcolor{black}} %

%Macros for formatting participants names
\newcommand{\leader}[1]{{\flushright \bf \emph{\color{blue}Task Leader: \underline{#1}}\\}}
\newcommand{\participants}[2]{{\flushright \bf \emph{\color{blue}Participants: \underline{#1}, #2}\\}}
\newcommand{\participant}[1]{{\flushright \bf \emph{\color{blue}Participants: \underline{#1}}\\}}
\newcommand{\moveup}{\vspace*{-1em}}
\newcommand{\moveuphalf}{\vspace*{-0.5em}}

%\newcommand{\yes}{{\color{BrickRed}{\bf yes}}}
\newcommand{\yes}{{\color{RoyalBlue}{$\scalebox{0.7}{\CIRCLE}$}}}
\newcommand{\no}{{\color{RoyalBlue}{$\scalebox{0.7}{\Circle}$}}}
\newcommand{\partially}{{\color{RoyalBlue}{$\scalebox{0.7}{\LEFTcircle}$}}}

%Progress bar
\newcommand{\progress}{{\color{RoyalBlue}{$\square\square\square\square$}}}
\newcommand{\progresss}{{\color{RoyalBlue}{$\blacksquare\square\square\square$}}}
\newcommand{\progressss}{{\color{RoyalBlue}{$\blacksquare\blacksquare\square\square$}}}
\newcommand{\progresssss}{{\color{RoyalBlue}{$\blacksquare\blacksquare\blacksquare\square$}}}
\newcommand{\progressssss}{{\color{RoyalBlue}{$\blacksquare\blacksquare\blacksquare\blacksquare$}}}

%white text
\newcommand{\wt}[1]{\color{white}\textbf{#1}} %
\newcommand{\bign}{{\color{blue}{\bf \ign}}\xspace}
\newcommand{\behess}{{\color{blue}{\bf \ehess}}\xspace}
\newcommand{\bepita}{{\color{blue}{\bf \epita}}\xspace}
\newcommand{\ban}{{\color{blue}{\bf \natar}}\xspace}
